---
title: npm的作用域介绍
date: 2024-09-20 17:22:53
permalink: /pages/b137f3/
categories:
  - 技术
  - 技术文档
tags:
  -
author:
  name: 东流
  link: https://github.com/Jinuss
---

### npm 的作用域

在 `node_modules` 目录中，带有 @ 符号的目录和不带 @ 符号的目录有以下区别：

- 带 `@` 的目录：

表示这是一个 作用域（**Scoped Package**）。作用域可以帮助组织和管理相关的包，通常以 `@scope/package-name` 的形式出现。
例如，`@babel/core` 是 `Babel` 相关的核心库，属于 `@babel` 这个作用域。
作用域的好处包括命名空间的保护、团队协作时的组织性以及可能的版本控制。

- 不带 `@` 的目录：

表示这是一个 普通的非作用域包。这些包是独立的，不属于任何特定的组织或团队。
例如，`express`、`react` 等都是不带作用域的包。

### npm 作用域的作用

作用域不仅仅是约束，它实际上在多个方面起作用：

- **命名空间**：作用域可以防止不同包之间的名称冲突，特别是在大型项目或团队中。

- **访问控制**：通过作用域，团队可以控制哪些包对外部可见，限制访问权限。

- **组织结构**：作用域可以帮助团队和组织将相关的包集中在一起，便于管理和维护。

- **版本管理**：某些工具和注册表支持作用域内的版本管理，简化依赖关系的管理。

- **生态系统的整合**：作用域机制的引入使得整个 Node.js 生态系统更具可扩展性和组织性，特别是在团队协作和大型项目中，能够有效管理依赖关系和版本。

### npm 作用域设置

在 `npm` 中设置作用域可以通过以下步骤完成：

- **创建作用域**：在你的项目目录下，使用命令：

```bash
npm init --scope=<your-scope>
```

这会在 `package.json` 中添加指定的作用域。

- **发布带作用域的包**：在 `package.json` 中，确保你的包名格式为 `@<your-scope>/<package-name>`，然后使用：

```bash
npm publish --access public
```

（使用 `--access public` 如果你的作用域包需要公开访问）

- **安装作用域包**：你可以像安装普通包一样安装作用域包：

```bash
npm install @<your-scope>/<package-name>
```

- **设置私有包**：如果要将作用域包设置为私有，修改 `package.json` 的 `private` 字段为 `true`。
