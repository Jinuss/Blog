---
title: Point类
date: 2024-12-21 17:14:13
permalink: /pages/205461/
categories:
  - 《Openlayers源码》笔记
  - Geom几何图形篇
tags:
  -
author:
  name: 东流
  link: https://github.com/Jinuss
---

## 概述

## 源码分析

```js
class Point extends SimpleGeometry {
  constructor(coordinates, layout) {
    super();
    this.setCoordinates(coordinates, layout);
  }

  clone() {
    const point = new Point(this.flatCoordinates.slice(), this.layout);
    point.applyProperties(this);
    return point;
  }

  closestPointXY(x, y, closestPoint, minSquaredDistance) {
    const flatCoordinates = this.flatCoordinates;
    const squaredDistance = squaredDx(
      x,
      y,
      flatCoordinates[0],
      flatCoordinates[1]
    );
    if (squaredDistance < minSquaredDistance) {
      const stride = this.stride;
      for (let i = 0; i < stride; ++i) {
        closestPoint[i] = flatCoordinates[i];
      }
      closestPoint.length = stride;
      return squaredDistance;
    }
    return minSquaredDistance;
  }

  getCoordinates() {
    return this.flatCoordinates.slice();
  }

  computeExtent(extent) {
    return createOrUpdateFromCoordinate(this.flatCoordinates, extent);
  }

  getType() {
    return "Point";
  }

  intersectsExtent(extent) {
    return containsXY(extent, this.flatCoordinates[0], this.flatCoordinates[1]);
  }

  setCoordinates(coordinates, layout) {
    this.setLayout(layout, coordinates, 0);
    if (!this.flatCoordinates) {
      this.flatCoordinates = [];
    }
    this.flatCoordinates.length = deflateCoordinate(
      this.flatCoordinates,
      0,
      coordinates,
      this.stride
    );
    this.changed();
  }
}
```

## 总结
